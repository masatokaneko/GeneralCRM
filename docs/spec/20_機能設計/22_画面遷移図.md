# 22_画面遷移図 (Screen Transition)

## 1. 概要
本CRMの主要な画面遷移をMermaid記法で定義します。
基本的にはサイドバーからのナビゲーションと、レコード一覧から詳細、編集画面への遷移が中心となります。

## 2. 画面遷移図

```mermaid
graph TD
    Login[ログイン画面] --> Dashboard[ホーム/ダッシュボード]

    Dashboard --> Sidebar{サイドバー}

    Sidebar --> LeadList[リード一覧]
    Sidebar --> AccList[取引先一覧]
    Sidebar --> ContList[連絡先一覧]
    Sidebar --> OppList[商談一覧]
    Sidebar --> TaskList[タスク一覧]

    %% リードフロー
    LeadList --> LeadDetail[リード詳細]
    LeadList --> LeadNew[リード新規作成]
    LeadDetail --> LeadEdit[リード編集]
    LeadDetail --> LeadConvert[リード変換ダイアログ]
    LeadConvert --> AccDetail[取引先詳細]
    LeadConvert --> OppDetail[商談詳細]

    %% 取引先フロー
    AccList --> AccDetail[取引先詳細]
    AccList --> AccNew[取引先新規作成]
    AccDetail --> AccEdit[取引先編集]
    AccDetail --> ContDetail[関連連絡先へ]

    %% 商談フロー
    OppList --> OppDetail[商談詳細]
    OppList --> OppNew[商談新規作成]
    OppDetail --> OppEdit[商談編集]
    OppDetail --> OppStage[フェーズ変更]

    %% 共通
    LeadDetail --> Activity[活動/タスク作成]
    AccDetail --> Activity
    OppDetail --> Activity
```

## 3. 主要遷移の説明

| 遷移元 | 遷移先 | 目的 |
| :--- | :--- | :--- |
| **リード詳細** | **リード変換** | 見込み客が成約に近づいた際、取引先・連絡先・商談へ情報を引き継ぐ。 |
| **一覧画面** | **詳細画面** | 特定のレコードの全フィールド情報および関連リストを確認する。 |
| **詳細画面** | **編集画面/モーダル** | 既存レコードの情報を更新する。 |
| **詳細画面** | **活動作成** | 電話やメール、ToDoなどのコンタクト履歴を残す。 |
